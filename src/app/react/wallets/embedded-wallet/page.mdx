import { Details } from "@/components/Document";
import { WalletsBreadcrumb, CustomizeWalletConfigurator } from "../_components";

<WalletsBreadcrumb name="Embedded Wallet" slug="embedded-wallet" />
<br />

# embeddedWallet

A wallet configurator for [Embedded Wallet](/wallet/embedded-wallet) which allows integrating the wallet with React

```tsx
import { embeddedWallet } from "@thirdweb-dev/react";

const embeddedWalletConfig = embeddedWallet();
```

<CustomizeWalletConfigurator
	config="embeddedWalletConfig"
	configurator="embeddedWallet"
	connectUI="embeddedWalletConnectUI"
	selectUI="embeddedWalletSelectUI"
/>

<br />

## Options

<Details summary="auth" tags={['Optional']}>

Customize what authentication options to show to your users in the [ConnectWallet Modal](/react/react.connectwallet).

By default, email and Google sign in options are shown.

```ts
embeddedWallet({
	auth: {
		options: ["email", "google"],
	},
});
```

</Details>

<Details summary="recommended" tags={["Optional"]}>

Show this wallet as "recommended" in the [ConnectWallet Modal](/react/react.connectwallet).

```ts
embeddedWallet({
	recommended: true,
});
```

</Details>

<br />

## Usage with ConnectWallet

To allow users to connect to this wallet using the [ConnectWallet](/react/react.connectwallet) component, you can add it to [ThirdwebProvider's supportedWallets](/react/react.thirdwebprovider#supportedwallets-optional) prop.

```tsx
<ThirdwebProvider
	clientId="your-client-id"
	supportedWallets={[embeddedWallet()]}
>
	<YourApp />
</ThirdwebProvider>
```

<br />

## Usage with useEmbeddedWallet

You can use the `useEmbeddedWallet` hook to programmatically connect to the wallet without using the [ConnectWallet](/react/react.connectwallet) component.

The wallet also needs to be added in [ThirdwebProvider's supportedWallets](/react/react.thirdwebprovider#supportedwallets-optional) if you want the wallet to auto-connect on next page load.

The hook will return all the necessary functions you'll need to authenticate and connect to the embedded wallet.

<br />

### Connecting with Google sign in

```tsx
function App() {
	const { connect } = useEmbeddedWallet();

	const handleConnect = async () => {
		await connect({
			strategy: "google",
		});
	};

	return <div> ... </div>;
}
```

<br />

### Connecting with email verification

```tsx
function App() {
	const { connect, sendVerificationEmail } = useEmbeddedWallet();

	const preLogin = async (email: string) => {
		// send email verification code
		await sendVerificationEmail({ email });
	};

	const handleLogin = async (email: string, verificationCode: string) => {
		// verify email and connect
		await connect({
			strategy: "email_verification",
			email,
			verificationCode,
		});
	};

	return <div> ... </div>;
}
```

<br />

### Connecting with iframe

```tsx
function App() {
	const { connect } = useEmbeddedWallet();

	const handleConnect = async () => {
		await connect({
			strategy: "iframe",
		});
	};

	return <div> ... </div>;
}
```

<br />

## Available connection strategies

```ts
// email verification
type EmailVerificationAuthParams = {
	strategy: "email_verification";
	email: string;
	verificationCode: string;
	recoveryCode?: string;
};

// google sign-in
type GoogleAuthParams = {
	strategy: "google";
	openedWindow?: Window;
	closeOpenedWindow?: (window: Window) => void;
};

// bring your own authentication
type JwtAuthParams = {
	strategy: "jwt";
	jwt: string;
	encryptionKey?: string;
};

// open iframe to send and input the verification code only
type IframeOtpAuthParams = {
	strategy: "iframe_email_verification";
	email: string;
};

// open iframe to enter email and verification code
type IframeAuthParams = {
	strategy: "iframe";
};
```

<Details summary="chainId" tags={['Optional']}>

If `chainId` is provided, wallet will be connected to network with given `chainId`, else wallet will be connected to the `activeChain` by default.

</Details>
